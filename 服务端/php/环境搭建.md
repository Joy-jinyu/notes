## php环境搭建（nginx +php）

### 安装前准备

+ 执行`services.msc` 找到 `IIS Admin Service`并且禁用此服务

+  [下载](https://windows.php.net/download/)php资源

  有`Non Thread Safe ` （IIS或nginx）和 `Thread Safe`（Apache）

+ 可能需要安装VIsual C++环境（如果你装了visual studio大概率没问题），如有问题，查询官方~

### 开始安装

+ 解压下载的php zip文件，解压到你软件安装的目录

+ 修改php.ini -- development -> php.ini

+ 修改php.ini内容

  ```ini
  enable_dl = On
  cgi.force_redirect = 0　
  cgi.fix_pathinfo=1
  fastcgi.impersonate = 1
  cgi.rfc2616_headers = 1
  extension_dir = "./ext"
  ```

+ 启动php服务

  `./php-cgi.exe -b 127.0.0.1:9000 -c ./php.ini`

+ 修改nginx.conf文件

  ```properties
  location / {
      root   E:/taste/php/practise #项目的地址
      index  index.html index.htm index.php;
      autoindex on; #开启网站目录文件列表功能，访问目录时列出其中的文件列表，默认不开启
  }
  
  location ~ \.php$ {
      root   E:/taste/php/practise #项目的地址
      fastcgi_pass   127.0.0.1:9000; #php启动的地址
      fastcgi_index  index.php;
      fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;#$document_root是root的值
      include        fastcgi_params;
  }
  ```

  